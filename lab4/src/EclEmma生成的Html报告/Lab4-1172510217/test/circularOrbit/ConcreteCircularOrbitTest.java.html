<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../../jacoco-resources/report.gif" type="image/gif"/><title>ConcreteCircularOrbitTest.java</title><link rel="stylesheet" href="../../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../../index.html" class="el_report">test (2019年5月19日 下午11:06:41)</a> &gt; <a href="../../index.html" class="el_group">Lab4-1172510217</a> &gt; <a href="../index.html" class="el_bundle">test</a> &gt; <a href="index.source.html" class="el_package">circularOrbit</a> &gt; <span class="el_source">ConcreteCircularOrbitTest.java</span></div><h1>ConcreteCircularOrbitTest.java</h1><pre class="source lang-java linenums">package circularOrbit;

import static org.junit.jupiter.api.Assertions.*;

import java.util.Iterator;

import org.junit.jupiter.api.Test;

import centralObject.CentralObject;
import physicalObject.PhysicalObject;
import track.Track;

<span class="fc" id="L13">class ConcreteCircularOrbitTest {</span>

    /**
     * testing strategy : 选取一个正常的测试用例
     */
    @Test void testIterator() {
<span class="fc" id="L19">        ConcreteCircularOrbit&lt;CentralObject, PhysicalObject&gt; circularOrbit = new ConcreteCircularOrbit&lt;&gt;();</span>
<span class="fc" id="L20">        CentralObject centralObject = new CentralObject();</span>
<span class="fc" id="L21">        circularOrbit.addCentralPoint(centralObject);</span>
<span class="fc" id="L22">        Track&lt;PhysicalObject&gt; track1 = new Track&lt;&gt;(1);</span>
<span class="fc" id="L23">        Track&lt;PhysicalObject&gt; track2 = new Track&lt;&gt;(2);</span>
<span class="fc" id="L24">        PhysicalObject physicalObject1 = new PhysicalObject();</span>
<span class="fc" id="L25">        PhysicalObject physicalObject2 = new PhysicalObject();</span>
<span class="fc" id="L26">        PhysicalObject physicalObject3 = new PhysicalObject();</span>
<span class="fc" id="L27">        circularOrbit.addTrack(track1);</span>
<span class="fc" id="L28">        circularOrbit.addTrack(track2);</span>
<span class="fc" id="L29">        track1.add(physicalObject1);</span>
<span class="fc" id="L30">        track1.add(physicalObject2);</span>
<span class="fc" id="L31">        track2.add(physicalObject3);</span>
<span class="fc" id="L32">        Iterator&lt;PhysicalObject&gt; itertor = circularOrbit.iterator();</span>
<span class="fc" id="L33">        int i = 0;</span>
<span class="fc bfc" id="L34" title="All 2 branches covered.">        while (itertor.hasNext()) {</span>
<span class="fc" id="L35">            assertEquals(circularOrbit.getEByNum(++i), itertor.next());</span>
        }
<span class="fc" id="L37">    }</span>

    /**
     * testing strategy : 轨道集合中不含该轨道+含有该轨道
     */
    @Test void testAddTrack() {
<span class="fc" id="L43">        ConcreteCircularOrbit&lt;CentralObject, PhysicalObject&gt; circularOrbit = new ConcreteCircularOrbit&lt;&gt;();</span>
<span class="fc" id="L44">        Track&lt;PhysicalObject&gt; track = new Track&lt;&gt;(1);</span>
        // 轨道集合中不含该集合
<span class="fc" id="L46">        assertTrue(circularOrbit.addTrack(track));</span>
        // 轨道集合中含有该集合
<span class="fc" id="L48">        assertFalse(circularOrbit.addTrack(track));</span>
<span class="fc" id="L49">    }</span>

    /**
     * testing strategy : 轨道集合中不含该轨道+含有该轨道
     */
    @Test void testDeleteTrack() {
<span class="fc" id="L55">        ConcreteCircularOrbit&lt;CentralObject, PhysicalObject&gt; circularOrbit = new ConcreteCircularOrbit&lt;&gt;();</span>
<span class="fc" id="L56">        Track&lt;PhysicalObject&gt; track = new Track&lt;&gt;(1);</span>
<span class="fc" id="L57">        circularOrbit.addTrack(track);</span>
        // 轨道集合中含有该集合
<span class="fc" id="L59">        assertTrue(circularOrbit.deleteTrack(track));</span>
        // 轨道集合中不含该集合
<span class="fc" id="L61">        assertFalse(circularOrbit.deleteTrack(track));</span>
<span class="fc" id="L62">    }</span>

    /**
     * testing strategy : 系统中心物体为null + 不为null
     */
    @Test void testAddCentralPoint() {
<span class="fc" id="L68">        ConcreteCircularOrbit&lt;CentralObject, PhysicalObject&gt; circularOrbit = new ConcreteCircularOrbit&lt;&gt;();</span>
<span class="fc" id="L69">        CentralObject centralObject = new CentralObject();</span>
        // 系统中心物体为null
<span class="fc" id="L71">        assertTrue(circularOrbit.addCentralPoint(centralObject));</span>
        // 系统中心物体不为null
<span class="fc" id="L73">        assertFalse(circularOrbit.addCentralPoint(centralObject));</span>
<span class="fc" id="L74">    }</span>

    /**
     * testing strategy : 不含有该轨道+含有该半径轨道
     */
    @Test void testGetTrackByRadius() {
<span class="fc" id="L80">        ConcreteCircularOrbit&lt;CentralObject, PhysicalObject&gt; circularOrbit = new ConcreteCircularOrbit&lt;&gt;();</span>
<span class="fc" id="L81">        Track&lt;PhysicalObject&gt; track1 = new Track&lt;&gt;(1);</span>
<span class="fc" id="L82">        circularOrbit.addTrack(track1);</span>
        // 含有特定半径轨道
<span class="fc" id="L84">        assertEquals(track1, circularOrbit.getTrackByRadius(1));</span>
        // 不含特定半径轨道
<span class="fc" id="L86">        assertEquals(null, circularOrbit.getTrackByRadius(2));</span>
<span class="fc" id="L87">    }</span>

    /**
     * testing strategy : 测试一个正常用例
     */
    @Test void testToString() {
<span class="fc" id="L93">        ConcreteCircularOrbit&lt;CentralObject, PhysicalObject&gt; circularOrbit = new ConcreteCircularOrbit&lt;&gt;();</span>
<span class="fc" id="L94">        CentralObject centralObject = new CentralObject();</span>
<span class="fc" id="L95">        circularOrbit.addCentralPoint(centralObject);</span>
<span class="fc" id="L96">        Track&lt;PhysicalObject&gt; track1 = new Track&lt;&gt;(1);</span>
<span class="fc" id="L97">        circularOrbit.addTrack(track1);</span>
<span class="fc" id="L98">        String string = &quot;&quot;;</span>
<span class="fc" id="L99">        string += &quot;The centralPoint and all the tracks are as follows\n&quot;;</span>
<span class="fc" id="L100">        string += &quot;centralpoint : &quot; + circularOrbit.getCentralPoint() + &quot;\n&quot;;</span>
<span class="fc" id="L101">        string += track1 + &quot;\n&quot;;</span>
<span class="fc" id="L102">        assertEquals(string, circularOrbit.toString());</span>
<span class="fc" id="L103">    }</span>

    /**
     * testing strategy : 无轨道+只有一个轨道+多轨道，多物体
     */
    @Test void testGetSystemEntropy() {
<span class="fc" id="L109">        ConcreteCircularOrbit&lt;CentralObject, PhysicalObject&gt; circularOrbit = new ConcreteCircularOrbit&lt;&gt;();</span>
<span class="fc" id="L110">        CentralObject centralObject = new CentralObject();</span>
<span class="fc" id="L111">        circularOrbit.addCentralPoint(centralObject);</span>
        // 测试无轨道时，熵值为0
<span class="fc" id="L113">        assertEquals(0, circularOrbit.getSystemEntropy());</span>
<span class="fc" id="L114">        Track&lt;PhysicalObject&gt; track1 = new Track&lt;&gt;(1);</span>
<span class="fc" id="L115">        circularOrbit.addTrack(track1);</span>
<span class="fc" id="L116">        track1.add(new PhysicalObject());</span>
        // 测试只有一条轨道时，熵值为0
<span class="fc" id="L118">        assertEquals(0, circularOrbit.getSystemEntropy());</span>
<span class="fc" id="L119">        Track&lt;PhysicalObject&gt; track2 = new Track&lt;&gt;(2);</span>
<span class="fc" id="L120">        circularOrbit.addTrack(track2);</span>
<span class="fc" id="L121">        track2.add(new PhysicalObject());</span>
        // 测试一般情况
<span class="pc bpc" id="L123" title="1 of 2 branches missed.">        assertTrue(Math.abs(0.9183 - circularOrbit.getSystemEntropy()) &lt; 0.01);</span>
<span class="fc" id="L124">    }</span>

    /**
     * testing strategy : num &lt;= 0 ; num &gt; 物体总数 ;正常
     */
    @Test void testGetEByNum() {
<span class="fc" id="L130">        ConcreteCircularOrbit&lt;CentralObject, PhysicalObject&gt; circularOrbit = new ConcreteCircularOrbit&lt;&gt;();</span>
<span class="fc" id="L131">        CentralObject centralObject = new CentralObject();</span>
<span class="fc" id="L132">        circularOrbit.addCentralPoint(centralObject);</span>
<span class="fc" id="L133">        Track&lt;PhysicalObject&gt; track1 = new Track&lt;&gt;(1);</span>
<span class="fc" id="L134">        Track&lt;PhysicalObject&gt; track2 = new Track&lt;&gt;(2);</span>
<span class="fc" id="L135">        PhysicalObject physicalObject1 = new PhysicalObject();</span>
<span class="fc" id="L136">        PhysicalObject physicalObject2 = new PhysicalObject();</span>
<span class="fc" id="L137">        PhysicalObject physicalObject3 = new PhysicalObject();</span>
<span class="fc" id="L138">        circularOrbit.addTrack(track1);</span>
<span class="fc" id="L139">        circularOrbit.addTrack(track2);</span>
<span class="fc" id="L140">        track1.add(physicalObject1);</span>
<span class="fc" id="L141">        track1.add(physicalObject2);</span>
<span class="fc" id="L142">        track2.add(physicalObject3);</span>
        // num &lt;= 0
<span class="fc" id="L144">        assertEquals(null, circularOrbit.getEByNum(0));</span>
        // 正常情况
<span class="fc" id="L146">        assertEquals(physicalObject1, circularOrbit.getEByNum(1));</span>
        // 正常情况
<span class="fc" id="L148">        assertEquals(physicalObject3, circularOrbit.getEByNum(3));</span>
        // num大于物体总数
<span class="fc" id="L150">        assertEquals(null, circularOrbit.getEByNum(4));</span>
<span class="fc" id="L151">    }</span>

    /**
     * testing strategy:参数轨道序号小于等于0+大于轨道数+正常
     */
    @Test void testGetTrackObjectsNumber() {
<span class="fc" id="L157">        ConcreteCircularOrbit&lt;CentralObject, PhysicalObject&gt; circularOrbit = new ConcreteCircularOrbit&lt;&gt;();</span>
<span class="fc" id="L158">        Track&lt;PhysicalObject&gt; track = new Track&lt;&gt;(1);</span>
<span class="fc" id="L159">        circularOrbit.addTrack(track);</span>
<span class="fc" id="L160">        track.add(new PhysicalObject());</span>
<span class="fc" id="L161">        track.add(new PhysicalObject());</span>
        // 参数轨道序号小于等于0
<span class="fc" id="L163">        assertEquals(-1, circularOrbit.getTrackObjectsNumber(0));</span>
<span class="fc" id="L164">        assertEquals(-1, circularOrbit.getTrackObjectsNumber(2));</span>
        // 参数轨道数大于轨道数
<span class="fc" id="L166">        assertEquals(2, circularOrbit.getTrackObjectsNumber(1));</span>
<span class="fc" id="L167">    }</span>

    /**
     * testing strategy:参数轨道序号小于等于0+大于轨道数+正常
     */
    @Test void testGetTrack() {
<span class="fc" id="L173">        ConcreteCircularOrbit&lt;CentralObject, PhysicalObject&gt; circularOrbit = new ConcreteCircularOrbit&lt;&gt;();</span>
<span class="fc" id="L174">        Track&lt;PhysicalObject&gt; track1 = new Track&lt;&gt;(1);</span>
<span class="fc" id="L175">        Track&lt;PhysicalObject&gt; track2 = new Track&lt;&gt;(2);</span>
<span class="fc" id="L176">        circularOrbit.addTrack(track1);</span>
<span class="fc" id="L177">        circularOrbit.addTrack(track2);</span>
<span class="fc" id="L178">        assertEquals(track1, circularOrbit.getTrack(1));</span>
        // 大于轨道数
<span class="fc" id="L180">        assertEquals(null, circularOrbit.getTrack(3));</span>
        // 参数轨道序号小于等于0
<span class="fc" id="L182">        assertEquals(null, circularOrbit.getTrack(0));</span>
<span class="fc" id="L183">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span>test (2019年5月19日 下午11:06:41)</div></body></html>